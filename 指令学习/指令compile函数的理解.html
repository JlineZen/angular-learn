<!DOCTYPE html>
<html lang="en" ng-app="com.zzweb">
<head>
	<meta charset="UTF-8">
	<script type="text/javascript" src="../lib/angular.min.js"></script>
</head>
<body>
	<p>directive中的link函数是compile函数的返回函数，compile函数可以对原始的DOM结构进行处理。</p>
	<level-one>
		<level-two>
			<level-three>
				<h1>Hello Angular</h1>
			</level-three>
		</level-two>
	</level-one>
	<script type="text/javascript">
		(function() {
			'use strict';
			angular.module('com.zzweb', [])
				.directive('levelOne', createDirective('levelOne'))
				.directive('levelTwo', createDirective('levelTwo'))
				.directive('levelThree', createDirective('levelThree'))
				.directive('testCompliel', function() {
					return {
						
					}
				});
			function createDirective(name) {
				return function() {
					return {
						restrict: 'E',
						compile: function(element, attr) {
							console.log(name + ' :complie');
							console.log(element + ' :complie');
							return {
								pre: function(scope, element, attr) {
									console.log(name + ' :pre-link');
								},
								post: function(scope, element, attr) {
									console.log(name + ' :post-link');
								}
							}
						}
					}
				}
			}
		}());
	</script>
</body>
</html>